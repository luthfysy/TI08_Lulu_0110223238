<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        form {
            max-width: 400px;
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
        }

        button {
            padding: 10px;
            background-color: #4CAF50;
            color: #fff;
            border: none;
            cursor: pointer;
        }

        .error {
            color: red;
            margin-bottom: 5px;
        }

        .hidden {
            display: none;
        }

    </style>
    <title>Form Validasi</title>
</head>
<body>

    <form id="formValidation" onsubmit="validateForm(event)">
        <label for="namaPelanggan">Nama Pelanggan:</label>
        <input type="text" id="namaPelanggan" maxlength="30" required>
        <div id="namaPelangganError" class="error"></div>

        <label for="email">Email:</label>
        <input type="email" id="email" required>
        <div id="emailError" class="error"></div>

        <label for="jamKeberangkatan">Jam Keberangkatan:</label>
        <input type="datetime-local" id="jamKeberangkatan" placeholder="Format: HH.MM" required>
        <div id="jamKeberangkatanError" class="error"></div>

        <label for="tujuanKeberangkatan">Tujuan Keberangkatan:</label>
        <input type="text" id="tujuanKeberangkatan" required>
        <div id="tujuanKeberangkatanError" class="error"></div>

        <label for="jumlahTiket">Jumlah Tiket:</label>
        <input type="number" id="jumlahTiket" min="1" max="10" required>
        <div id="jumlahTiketError" class="error"></div>

        <button type="submit">Submit</button>
    </form>

    <div id="outputData" class="hidden">
        <h2>Detail Pemesanan:</h2>
        <p id="outputNamaPelanggan"></p>
        <p id="outputEmail"></p>
        <p id="outputJamKeberangkatan"></p>
        <p id="outputTujuanKeberangkatan"></p>
        <p id="outputJumlahTiket"></p>
    </div>

    <script>
    function validateForm(event) {
        event.preventDefault();

        // Reset error messages
        resetErrors();

        // Get form values
        var namaPelanggan = document.getElementById("namaPelanggan").value.trim();
        var email = document.getElementById("email").value.trim();
        var jamKeberangkatan = document.getElementById("jamKeberangkatan").value.trim();
        var tujuanKeberangkatan = document.getElementById("tujuanKeberangkatan").value.trim();
        var jumlahTiket = parseInt(document.getElementById("jumlahTiket").value);

        // Validation
        var isValid = true;

        if (!namaPelanggan || namaPelanggan.length > 30) {
            displayError("namaPelanggan", "Nama pelanggan harus diisi dan maksimal 30 karakter.");
            isValid = false;
        }

        if (!email || !isValidEmail(email)) {
            displayError("email", "Format email tidak valid.");
            isValid = false;
        }

       

        if (!tujuanKeberangkatan) {
            displayError("tujuanKeberangkatan", "Tujuan keberangkatan harus diisi.");
            isValid = false;
        }

        if (isNaN(jumlahTiket) || jumlahTiket < 1 || jumlahTiket > 10) {
            displayError("jumlahTiket", "Jumlah tiket harus bilangan bulat antara 1 dan 10.");
            isValid = false;
        }

        // Display data if valid
        if (isValid) {
            displayData(namaPelanggan, email, jamKeberangkatan, tujuanKeberangkatan, jumlahTiket);
        }
    }

    function isValidEmail(email) {
        // Simple email validation using a regular expression
        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }

    function isValidJamKeberangkatan(jamKeberangkatan) {
        // Simple time validation using a regular expression
        var timeRegex = /^(0[0-9]|1[0-9]|2[0-3])\.[0-5][0-9]$/;
        return timeRegex.test(jamKeberangkatan);
    }

    function displayError(field, message) {
        var errorElement = document.getElementById(field + "Error");
        errorElement.textContent = message;
    }

    function resetErrors() {
        var errorElements = document.querySelectorAll(".error");
        errorElements.forEach(function (element) {
            element.textContent = "";
        });
    }

    function displayData(namaPelanggan, email, jamKeberangkatan, tujuanKeberangkatan, jumlahTiket) {
        // Display data in the output section
        document.getElementById("outputNamaPelanggan").textContent = "Nama Pelanggan: " + namaPelanggan;
        document.getElementById("outputEmail").textContent = "Email: " + email;
        document.getElementById("outputJamKeberangkatan").textContent = "Jam Keberangkatan: " + jamKeberangkatan;
        document.getElementById("outputTujuanKeberangkatan").textContent = "Tujuan Keberangkatan: " + tujuanKeberangkatan;
        document.getElementById("outputJumlahTiket").textContent = "Jumlah Tiket: " + jumlahTiket;

        // Show the output section
        document.getElementById("outputData").classList.remove("hidden");
    }

    </script>
</body>
</html>
